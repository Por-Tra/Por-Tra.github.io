:root{
  --dark: #270245;
  --light: #fd5d8d;
  --white: #ffffff;
  --bg: #000000;
  --accent: #2b52ff;
  --glass: rgba(255,255,255,0.03);
}

/* Reset */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;width:100%}
body{
  font-family: 'Press Start 2P', monospace;
  background: var(--bg);
  color:var(--white);
  overflow:hidden;
  position:relative;
}

/* Noise layers */
.noise, .noise.noise-moving{
  pointer-events:none;
  position:fixed; top:0; left:0; width:100vw; height:100vh; z-index:400; opacity:.8;
  background-repeat:repeat;
  background-image: url('https://ice-creme.de/images/background-noise.png');
  background-size: 200% 200%;
  mix-blend-mode: overlay;
}
.noise.noise-moving{ z-index:450; opacity:1; animation:noise 1s infinite alternate; }

/* scanlines */
.scanlines{
  position:fixed; inset:0; pointer-events:none; z-index:300; opacity:.6; animation:scanOpacity 3s linear infinite;
}
.scanlines::before{
  content:''; position:absolute; inset:0;
  background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,.5) 51%);
  background-size: 100% 4px;
  animation:scanlines .2s linear infinite;
  pointer-events:none;
}

/* overlay vignette */
body::before{
  content:''; position:fixed; inset:0; z-index:500; pointer-events:none;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0) 0%, rgba(0,0,0,.45) 100%);
  mix-blend-mode: overlay;
}

/* Intro container */
.intro-wrap{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  padding:2rem; background:var(--accent); z-index:200; overflow:hidden;
}

/* PLAY button - styled as big text with char split animation */
.play{
  position:relative; z-index:600;
  cursor:pointer;
  display:inline-block;
  user-select:none;
  font-size:2.5rem;
  color:var(--white);
  line-height:1.1;
  letter-spacing:2px;
  text-transform:uppercase;
  -webkit-tap-highlight-color: transparent;
  padding: .7rem 1.5rem;
  background: linear-gradient(90deg, rgba(0,0,0,0.12), transparent);
  border-radius:10px;
  transition: transform .12s ease;
}
.play:active{ transform: scale(.98) }

/* Each char is a span for the type effect */
.play .char{ display:inline-block; opacity:1; animation:type 1.2s infinite alternate; animation-delay: calc(var(--i) * 60ms); }

/* Hint text */
#hint{ font-size:.8rem; opacity:.9; text-align:center; }

/* Small HUD elements */
.time{
  position:absolute; right:2rem; top:2rem; z-index:600;
  font-size:2.5rem;
  will-change:text-shadow;
  animation:rgbText 1s steps(9) 0s infinite alternate;
}

.recordSpeed{
  position:absolute; left:2rem; bottom:2rem; z-index:600;
  font-size:2.5rem;
  animation:rgbText 1s steps(9) 0s infinite alternate;
}

/* Language selector */
.lang-select{
  position:fixed; right:1rem; bottom:1rem; z-index:700; display:flex; gap:.5rem; align-items:center;
  background: rgba(0,0,0,0.35); padding:.6rem; border-radius:8px;
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.5);
}
.lang-select button{
  font-family:inherit; font-size:.8rem; padding:.4rem .6rem; border-radius:6px; border:2px solid rgba(255,255,255,0.06);
  background:transparent; color:var(--white); cursor:pointer;
}
.lang-select button.active{
  background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  box-shadow: 0 0 18px rgba(255,255,255,0.03) inset;
  border-color: rgba(255,255,255,0.14);
}

/* subtle scanlines animation & text rgb animation */
@keyframes scanlines{
  from{ background-position-y:0 }
  to{ background-position-y:4px }
}
@keyframes scanOpacity{
  0%{opacity:.6} 20%{opacity:.3} 35%{opacity:.5} 50%{opacity:.8} 60%{opacity:.4} 80%{opacity:.7} 100%{opacity:.6}
}

@keyframes noise{
  0%,100%{ background-position:0 0 }
  10%{ background-position:-5% -10% }
  20%{ background-position:-15% 5% }
  30%{ background-position:7% -25% }
  40%{ background-position:20% 25% }
  50%{ background-position:-25% 10% }
  60%{ background-position:15% 5% }
  70%{ background-position:0 15% }
  80%{ background-position:25% 35% }
  90%{ background-position:-10% 10% }
}

/* rgb text shimmer */
@keyframes rgbText{
  0% { text-shadow: -1px 1px 8px rgba(255,255,255,.6), 1px -1px 8px rgba(255,255,235,.7), 0 0 3px rgba(59,0,226,.8); }
  50% { text-shadow: -1px 1px 8px rgba(255,255,255,.6), 1px -1px 8px rgba(255,255,235,.7), 5px 0 1px rgba(0,242,14,.8); }
  100% { text-shadow: -1px 1px 8px rgba(255,255,255,.6), 1px -1px 8px rgba(255,255,235,.7), -5px 0 1px rgba(244,45,0,.8); }
}

@keyframes type{
  0%,19%{opacity:0}
  20%,100%{opacity:1}
}

/* GLITCH / CUT animation overlay */
.glitch-overlay{
  position:fixed; inset:0; z-index:1200; pointer-events:none; display:none;
}
.glitch-overlay.active{ display:block; animation:glitchSequence 1s linear forwards; }

@keyframes glitchSequence{
  0% { opacity:1; filter: none; transform: none; }
  20% { transform: translateX(6px) skewX(6deg); filter: contrast(1.4) brightness(1.1) hue-rotate(10deg); }
  40% { transform: translateX(-8px) skewX(-8deg); filter: contrast(2) brightness(.6) saturate(1.2); }
  60% { transform: translateY(-30%) scaleY(1.2); filter: blur(2px); opacity:1; }
  80% { transform: translateY(0) scaleY(.95); opacity:0.6; }
  100% { opacity:0; transform:scale(0.98); }
}

/* CUT TO BLACK */
.cut-to-black{
  content:""; position:fixed; inset:0; background:#000; z-index:1300; display:none;
}
.cut-to-black.active{
  display:block; animation:fadeBlack .45s ease forwards;
}
@keyframes fadeBlack{ from{opacity:0} to{opacity:1} }

/* Responsive tweaks */
@media (max-width:900px){
  .intro-wrap{ padding:1.5rem; flex-direction:column; align-items:center; justify-content:center; }
  .play{ font-size:1.8rem; padding:.6rem 1.2rem; }
  .time, .recordSpeed{ font-size:1.4rem; }
  .time{ right:1rem; top:1rem; }
  .recordSpeed{ left:1rem; bottom:1rem; }
  .lang-select{ right:.8rem; bottom:.8rem; padding:.5rem; gap:.4rem; }
  .lang-select button{ font-size:.7rem; padding:.35rem .5rem; }
  #hint{ font-size:.7rem !important; margin-right:.8rem !important; }
}

@media (max-width:600px){
  .intro-wrap{ padding:1rem; }
  .play{ font-size:1.3rem; padding:.5rem .9rem; }
  .time, .recordSpeed{ font-size:1rem; }
  .time{ right:.8rem; top:.8rem; }
  .recordSpeed{ left:.8rem; bottom:.8rem; }
  .lang-select{ right:.5rem; bottom:.5rem; padding:.4rem; gap:.3rem; }
  .lang-select button{ font-size:.65rem; padding:.3rem .45rem; }
  #hint{ font-size:.65rem !important; margin-right:.5rem !important; }
}

@media (max-width:400px){
  .intro-wrap{ padding:.8rem; }
  .play{ font-size:1.1rem; padding:.4rem .7rem; letter-spacing:1px; }
  .time, .recordSpeed{ font-size:.85rem; }
  .time{ right:.5rem; top:.5rem; }
  .recordSpeed{ left:.5rem; bottom:.5rem; }
  .lang-select{ right:.4rem; bottom:.4rem; padding:.35rem; gap:.25rem; }
  .lang-select button{ font-size:.6rem; padding:.25rem .4rem; }
  #hint{ font-size:.6rem !important; margin-right:.4rem !important; }
}

/* Orientation paysage sur mobile */
@media (max-height:500px) and (orientation:landscape){
  .intro-wrap{ padding:.5rem; }
  .play{ font-size:1rem; padding:.3rem .6rem; }
  .time, .recordSpeed{ font-size:.8rem; }
  .time{ right:.4rem; top:.4rem; }
  .recordSpeed{ left:.4rem; bottom:.4rem; }
  .lang-select{ right:.3rem; bottom:.3rem; padding:.3rem; }
  .lang-select button{ font-size:.55rem; padding:.2rem .35rem; }
  #hint{ font-size:.55rem !important; margin-right:.3rem !important; }
}
